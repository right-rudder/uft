---
import { type CollectionEntry, getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import homePage from "../../data/homePage";
import HeaderScreen from "../../components/HeaderScreen.astro";
import ProgramSwiper from "../../components/ProgramSwiper.astro";
import BentoGrid from "../../components/BentoGrid.astro";
import ContentSplit from "../../components/ContentSplit.astro";
import CTAColor from "../../components/CTAColor.astro";
import Testimonials from "../../components/Testimonials.astro";
import ContentCTA from "../../components/ContentCTA.astro";
import flyWithUsCTA from "../../data/flyWithUsCTA.js";
import programsSwiper from "../../data/programSwiper";
import ContentDivisor from "../../components/ContentDivisor.astro";
import contentDivisor from "../../data/content-divisor-data";
import Partners from "../../components/Partners.astro";
import partnersData from "../../data/partners-data";

export async function getStaticPaths() {
  const locations = await getCollection("location");
  return locations.map((location) => ({
    params: { slug: location.slug }, // Use the slug auto-generated by Astro
    props: location, // Pass the location data as props
  }));
}
type Props = CollectionEntry<"location">;
const location = Astro.props;
const locationCity = location.data.city || "your area";
const locationStateShort = location.data.stateShort || "your state";
const locationStateLong = location.data.stateLong || "your state";
const locationDescription = location.data.description || "A great place with unique attractions and a welcoming community.";
const locationCounty = location.data.baseLocation || "A well-known county with rich history and local charm.";
const locationKeyPlace1 = location.data.keyPlace1 || "A popular landmark worth visiting.";
const locationKeyPlace2 = location.data.keyPlace2 || "Another must-see location in the area.";

const { data } = homePage;
---

<BaseLayout
  siteTitle={data.pageTitle}
  siteDescription={data.pageDescription}
  keywords={data.pageKeywords}
>
  <!-- HEADER -->
  <HeaderScreen content={data.header} />
  <Partners data={partnersData.data.partners} />
  <BentoGrid />

  <ProgramSwiper content={programsSwiper} />
  <ContentSplit content={data.whyUFT} />
  <!-- <ContentCTA content={data.quizCTA} /> -->
  <ContentDivisor content={contentDivisor} />
  <Testimonials content={data.testimonials} />
  <CTAColor content={flyWithUsCTA} />
  <script src="../scripts/creativeSwiper.js"></script>
</BaseLayout>
