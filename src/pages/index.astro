---
import BaseLayout from "../layouts/BaseLayout.astro";
import homePage from "../data/homePage";
import HomeHeader from "../components/HomeHeader.astro";
import ProgramSwiper from "../components/ProgramSwiper.astro";
import BentoGrid from "../components/BentoGrid.astro";
import ContentSplit from "../components/ContentSplit.astro";
import CTAColor from "../components/CTAColor.astro";
import Testimonials from "../components/Testimonials.astro";
import ContentCTA from "../components/ContentCTA.astro";
import flyWithUsCTA from "../data/flyWithUsCTA.js";
import programsSwiper from "../data/programSwiper";
import ContentDivisor from "../components/ContentDivisor.astro";
import contentDivisor from "../data/content-divisor-data";
import Partners from "../components/Partners.astro";
import partnersData from "../data/partners-data";
import BookCTA from "../components/BookCTA.astro";
import bookCTA from "../data/bookCTA.js";
import GenericCTA from "../components/GenericCTA.astro";
import newCTA from "../data/newCTA.js";
import AnnouncementPopup from "../components/AnnouncementPopup.astro";

const { data } = homePage;
---

<BaseLayout siteTitle={data.pageTitle} siteDescription={data.pageDescription} keywords={data.pageKeywords}>
  <!-- HEADER -->
  <HomeHeader content={data.header} />
  <div id="promotion-popup-container">
    <AnnouncementPopup btnId="promotion-dismiss-button" />
  </div>

  <Partners data={partnersData.data.partners} />
  <BentoGrid />
  <ProgramSwiper content={programsSwiper} />
  <GenericCTA content={newCTA} />
  <ContentSplit content={data.whyUFT} />
  <ContentCTA content={data.quizCTA} />
  <ContentDivisor content={contentDivisor} />
  <Testimonials content={data.testimonials} />
  <BookCTA content={bookCTA} />
  <CTAColor content={flyWithUsCTA} />
  <script src="../scripts/creativeSwiper.js"></script>
</BaseLayout>

<script is:inline>
  function runKillSwitch() {
    const killDate = new Date('2026-01-01T00:00:00');
    const now = new Date();
    if (now >= killDate) {
      const popup = document.getElementById('promotion-popup-container');
      if (popup) {
        popup.remove();
      }
    }
  }
  runKillSwitch();
</script>
